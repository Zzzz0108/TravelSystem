-- 设施之间的路径点
INSERT INTO road_path_points (road_id, latitude, longitude, sequence_number, created_at, updated_at) VALUES
-- 图书馆(1) -> 电子阅览室(2)
(26, 39.9632, 116.3186, 1, NOW(), NOW()),
(26, 39.9625, 116.3165, 2, NOW(), NOW()),
(26, 39.9615, 116.3143, 3, NOW(), NOW()),
(26, 39.9605, 116.3121, 4, NOW(), NOW()),

-- 电子阅览室(2) -> 自习室A(3)
(27, 39.9605, 116.3121, 1, NOW(), NOW()),
(27, 39.9615, 116.3135, 2, NOW(), NOW()),
(27, 39.9625, 116.3150, 3, NOW(), NOW()),
(27, 39.9640, 116.3166, 4, NOW(), NOW()),

-- 自习室A(3) -> 自习室B(4)
(28, 39.9640, 116.3166, 1, NOW(), NOW()),
(28, 39.9635, 116.3145, 2, NOW(), NOW()),
(28, 39.9629, 116.3128, 3, NOW(), NOW()),
(28, 39.9623, 116.3111, 4, NOW(), NOW()),

-- 自习室B(4) -> 自习室C(5)
(29, 39.9623, 116.3111, 1, NOW(), NOW()),
(29, 39.9635, 116.3125, 2, NOW(), NOW()),
(29, 39.9647, 116.3140, 3, NOW(), NOW()),
(29, 39.9658, 116.3156, 4, NOW(), NOW()),

-- 自习室C(5) -> 第一食堂(6)
(30, 39.9658, 116.3156, 1, NOW(), NOW()),
(30, 39.9645, 116.3165, 2, NOW(), NOW()),
(30, 39.9631, 116.3178, 3, NOW(), NOW()),
(30, 39.9617, 116.3191, 4, NOW(), NOW()),

-- 第一食堂(6) -> 第二食堂(7)
(31, 39.9617, 116.3191, 1, NOW(), NOW()),
(31, 39.9625, 116.3175, 2, NOW(), NOW()),
(31, 39.9634, 116.3155, 3, NOW(), NOW()),
(31, 39.9642, 116.3136, 4, NOW(), NOW()),

-- 第二食堂(7) -> 清真食堂(8)
(32, 39.9642, 116.3136, 1, NOW(), NOW()),
(32, 39.9638, 116.3150, 2, NOW(), NOW()),
(32, 39.9632, 116.3165, 3, NOW(), NOW()),
(32, 39.9625, 116.3181, 4, NOW(), NOW()),

-- 清真食堂(8) -> 教工食堂(9)
(33, 39.9625, 116.3181, 1, NOW(), NOW()),
(33, 39.9635, 116.3165, 2, NOW(), NOW()),
(33, 39.9643, 116.3145, 3, NOW(), NOW()),
(33, 39.9650, 116.3126, 4, NOW(), NOW()),

-- 教工食堂(9) -> 西餐厅(10)
(34, 39.9650, 116.3126, 1, NOW(), NOW()),
(34, 39.9638, 116.3135, 2, NOW(), NOW()),
(34, 39.9626, 116.3153, 3, NOW(), NOW()),
(34, 39.9613, 116.3171, 4, NOW(), NOW()),

-- 西餐厅(10) -> 咖啡厅(11)
(35, 39.9613, 116.3171, 1, NOW(), NOW()),
(35, 39.9620, 116.3185, 2, NOW(), NOW()),
(35, 39.9627, 116.3198, 3, NOW(), NOW()),
(35, 39.9635, 116.3210, 4, NOW(), NOW()),

-- 咖啡厅(11) -> 校园超市(12)
(36, 39.9635, 116.3210, 1, NOW(), NOW()),
(36, 39.9638, 116.3185, 2, NOW(), NOW()),
(36, 39.9638, 116.3150, 3, NOW(), NOW()),
(36, 39.9611, 116.3161, 4, NOW(), NOW()),

-- 校园超市(12) -> 文具店(13)
(37, 39.9611, 116.3161, 1, NOW(), NOW()),
(37, 39.9625, 116.3145, 2, NOW(), NOW()),
(37, 39.9636, 116.3125, 3, NOW(), NOW()),
(37, 39.9646, 116.3106, 4, NOW(), NOW()),

-- 文具店(13) -> 书店(14)
(38, 39.9646, 116.3106, 1, NOW(), NOW()),
(38, 39.9640, 116.3120, 2, NOW(), NOW()),
(38, 39.9635, 116.3135, 3, NOW(), NOW()),
(38, 39.9629, 116.3151, 4, NOW(), NOW()),

-- 书店(14) -> 便利店(15)
(39, 39.9629, 116.3151, 1, NOW(), NOW()),
(39, 39.9635, 116.3165, 2, NOW(), NOW()),
(39, 39.9645, 116.3180, 3, NOW(), NOW()),
(39, 39.9654, 116.3196, 4, NOW(), NOW()),

-- 便利店(15) -> 公共卫生间A(16)
(40, 39.9654, 116.3196, 1, NOW(), NOW()),
(40, 39.9640, 116.3185, 2, NOW(), NOW()),
(40, 39.9628, 116.3163, 3, NOW(), NOW()),
(40, 39.9616, 116.3141, 4, NOW(), NOW()),

-- 公共卫生间A(16) -> 公共卫生间B(17)
(41, 39.9616, 116.3141, 1, NOW(), NOW()),
(41, 39.9625, 116.3155, 2, NOW(), NOW()),
(41, 39.9633, 116.3170, 3, NOW(), NOW()),
(41, 39.9641, 116.3186, 4, NOW(), NOW()),

-- 公共卫生间B(17) -> 公共卫生间C(18)
(42, 39.9641, 116.3186, 1, NOW(), NOW()),
(42, 39.9635, 116.3170, 2, NOW(), NOW()),
(42, 39.9629, 116.3150, 3, NOW(), NOW()),
(42, 39.9624, 116.3131, 4, NOW(), NOW()),

-- 公共卫生间C(18) -> 公共卫生间D(19)
(43, 39.9624, 116.3131, 1, NOW(), NOW()),
(43, 39.9635, 116.3145, 2, NOW(), NOW()),
(43, 39.9647, 116.3160, 3, NOW(), NOW()),
(43, 39.9659, 116.3176, 4, NOW(), NOW()),

-- 公共卫生间D(19) -> 公共卫生间E(20)
(44, 39.9659, 116.3176, 1, NOW(), NOW()),
(44, 39.9645, 116.3165, 2, NOW(), NOW()),
(44, 39.9630, 116.3143, 3, NOW(), NOW()),
(44, 39.9612, 116.3121, 4, NOW(), NOW()),

-- 公共卫生间E(20) -> 星巴克(21)
(45, 39.9612, 116.3121, 1, NOW(), NOW()),
(45, 39.9620, 116.3135, 2, NOW(), NOW()),
(45, 39.9628, 116.3150, 3, NOW(), NOW()),
(45, 39.9637, 116.3166, 4, NOW(), NOW()),

-- 星巴克(21) -> 瑞幸咖啡(22)
(46, 39.9637, 116.3166, 1, NOW(), NOW()),
(46, 39.9628, 116.3145, 2, NOW(), NOW()),
(46, 39.9619, 116.3128, 3, NOW(), NOW()),
(46, 39.9610, 116.3111, 4, NOW(), NOW()),

-- 瑞幸咖啡(22) -> 校园咖啡(23)
(47, 39.9610, 116.3111, 1, NOW(), NOW()),
(47, 39.9625, 116.3125, 2, NOW(), NOW()),
(47, 39.9635, 116.3140, 3, NOW(), NOW()),
(47, 39.9645, 116.3156, 4, NOW(), NOW()),

-- 校园咖啡(23) -> 咖啡角A(24)
(48, 39.9645, 116.3156, 1, NOW(), NOW()),
(48, 39.9640, 116.3135, 2, NOW(), NOW()),
(48, 39.9634, 116.3118, 3, NOW(), NOW()),
(48, 39.9628, 116.3101, 4, NOW(), NOW()),

-- 咖啡角A(24) -> 咖啡角B(25)
(49, 39.9628, 116.3101, 1, NOW(), NOW()),
(49, 39.9635, 116.3115, 2, NOW(), NOW()),
(49, 39.9644, 116.3130, 3, NOW(), NOW()),
(49, 39.9653, 116.3146, 4, NOW(), NOW()),

-- 咖啡角B(25) -> 体育馆(26)
(50, 39.9653, 116.3146, 1, NOW(), NOW()),
(50, 39.9640, 116.3155, 2, NOW(), NOW()),
(50, 39.9628, 116.3173, 3, NOW(), NOW()),
(50, 39.9615, 116.3191, 4, NOW(), NOW()),

-- 体育馆(26) -> 游泳馆(27)
(51, 39.9615, 116.3191, 1, NOW(), NOW()),
(51, 39.9625, 116.3175, 2, NOW(), NOW()),
(51, 39.9633, 116.3155, 3, NOW(), NOW()),
(51, 39.9640, 116.3136, 4, NOW(), NOW()),

-- 游泳馆(27) -> 篮球场A(28)
(52, 39.9640, 116.3136, 1, NOW(), NOW()),
(52, 39.9635, 116.3150, 2, NOW(), NOW()),
(52, 39.9629, 116.3165, 3, NOW(), NOW()),
(52, 39.9623, 116.3181, 4, NOW(), NOW()),

-- 篮球场A(28) -> 篮球场B(29)
(53, 39.9623, 116.3181, 1, NOW(), NOW()),
(53, 39.9635, 116.3165, 2, NOW(), NOW()),
(53, 39.9647, 116.3145, 3, NOW(), NOW()),
(53, 39.9658, 116.3126, 4, NOW(), NOW()),

-- 篮球场B(29) -> 网球场(30)
(54, 39.9658, 116.3126, 1, NOW(), NOW()),
(54, 39.9645, 116.3135, 2, NOW(), NOW()),
(54, 39.9630, 116.3153, 3, NOW(), NOW()),
(54, 39.9611, 116.3171, 4, NOW(), NOW()),

-- 网球场(30) -> 排球场(31)
(55, 39.9611, 116.3171, 1, NOW(), NOW()),
(55, 39.9625, 116.3155, 2, NOW(), NOW()),
(55, 39.9636, 116.3135, 3, NOW(), NOW()),
(55, 39.9646, 116.3116, 4, NOW(), NOW()),

-- 排球场(31) -> 羽毛球场(32)
(56, 39.9646, 116.3116, 1, NOW(), NOW()),
(56, 39.9640, 116.3130, 2, NOW(), NOW()),
(56, 39.9635, 116.3145, 3, NOW(), NOW()),
(56, 39.9629, 116.3161, 4, NOW(), NOW()),

-- 羽毛球场(32) -> 乒乓球室(33)
(57, 39.9629, 116.3161, 1, NOW(), NOW()),
(57, 39.9635, 116.3145, 2, NOW(), NOW()),
(57, 39.9645, 116.3125, 3, NOW(), NOW()),
(57, 39.9654, 116.3106, 4, NOW(), NOW()),

-- 乒乓球室(33) -> 健身房(34)
(58, 39.9654, 116.3106, 1, NOW(), NOW()),
(58, 39.9640, 116.3115, 2, NOW(), NOW()),
(58, 39.9628, 116.3133, 3, NOW(), NOW()),
(58, 39.9617, 116.3151, 4, NOW(), NOW()),

-- 健身房(34) -> 田径场(35)
(59, 39.9617, 116.3151, 1, NOW(), NOW()),
(59, 39.9625, 116.3165, 2, NOW(), NOW()),
(59, 39.9634, 116.3180, 3, NOW(), NOW()),
(59, 39.9642, 116.3196, 4, NOW(), NOW()),

-- 田径场(35) -> 校医院(36)
(60, 39.9642, 116.3196, 1, NOW(), NOW()),
(60, 39.9635, 116.3185, 2, NOW(), NOW()),
(60, 39.9629, 116.3163, 3, NOW(), NOW()),
(60, 39.9625, 116.3141, 4, NOW(), NOW()),

-- 校医院(36) -> 医务室A(37)
(61, 39.9625, 116.3141, 1, NOW(), NOW()),
(61, 39.9635, 116.3155, 2, NOW(), NOW()),
(61, 39.9643, 116.3170, 3, NOW(), NOW()),
(61, 39.9650, 116.3186, 4, NOW(), NOW()),

-- 医务室A(37) -> 医务室B(38)
(62, 39.9650, 116.3186, 1, NOW(), NOW()),
(62, 39.9635, 116.3170, 2, NOW(), NOW()),
(62, 39.9624, 116.3150, 3, NOW(), NOW()),
(62, 39.9613, 116.3131, 4, NOW(), NOW()),

-- 医务室B(38) -> 药房(39)
(63, 39.9613, 116.3131, 1, NOW(), NOW()),
(63, 39.9625, 116.3145, 2, NOW(), NOW()),
(63, 39.9637, 116.3160, 3, NOW(), NOW()),
(63, 39.9648, 116.3176, 4, NOW(), NOW()),

-- 药房(39) -> 工商银行(40)
(64, 39.9648, 116.3176, 1, NOW(), NOW()),
(64, 39.9640, 116.3165, 2, NOW(), NOW()),
(64, 39.9630, 116.3143, 3, NOW(), NOW()),
(64, 39.9621, 116.3121, 4, NOW(), NOW()),

-- 工商银行(40) -> 建设银行(41)
(65, 39.9621, 116.3121, 1, NOW(), NOW()),
(65, 39.9630, 116.3135, 2, NOW(), NOW()),
(65, 39.9638, 116.3150, 3, NOW(), NOW()),
(65, 39.9646, 116.3166, 4, NOW(), NOW()),

-- 建设银行(41) -> 农业银行(42)
(66, 39.9646, 116.3166, 1, NOW(), NOW()),
(66, 39.9638, 116.3145, 2, NOW(), NOW()),
(66, 39.9629, 116.3128, 3, NOW(), NOW()),
(66, 39.9619, 116.3111, 4, NOW(), NOW()),

-- 农业银行(42) -> ATM机A(43)
(67, 39.9619, 116.3111, 1, NOW(), NOW()),
(67, 39.9630, 116.3125, 2, NOW(), NOW()),
(67, 39.9642, 116.3140, 3, NOW(), NOW()),
(67, 39.9654, 116.3156, 4, NOW(), NOW()),

-- ATM机A(43) -> ATM机B(44)
(68, 39.9654, 116.3156, 1, NOW(), NOW()),
(68, 39.9645, 116.3140, 2, NOW(), NOW()),
(68, 39.9636, 116.3120, 3, NOW(), NOW()),
(68, 39.9627, 116.3101, 4, NOW(), NOW()),

-- ATM机B(44) -> 菜鸟驿站(45)
(69, 39.9627, 116.3101, 1, NOW(), NOW()),
(69, 39.9635, 116.3115, 2, NOW(), NOW()),
(69, 39.9644, 116.3130, 3, NOW(), NOW()),
(69, 39.9652, 116.3146, 4, NOW(), NOW()),

-- 菜鸟驿站(45) -> 顺丰快递(46)
(70, 39.9652, 116.3146, 1, NOW(), NOW()),
(70, 39.9640, 116.3155, 2, NOW(), NOW()),
(70, 39.9628, 116.3173, 3, NOW(), NOW()),
(70, 39.9615, 116.3191, 4, NOW(), NOW()),

-- 顺丰快递(46) -> 京东快递(47)
(71, 39.9615, 116.3191, 1, NOW(), NOW()),
(71, 39.9625, 116.3175, 2, NOW(), NOW()),
(71, 39.9633, 116.3155, 3, NOW(), NOW()),
(71, 39.9640, 116.3136, 4, NOW(), NOW()),

-- 京东快递(47) -> 快递点A(48)
(72, 39.9640, 116.3136, 1, NOW(), NOW()),
(72, 39.9635, 116.3150, 2, NOW(), NOW()),
(72, 39.9629, 116.3165, 3, NOW(), NOW()),
(72, 39.9623, 116.3181, 4, NOW(), NOW()),

-- 快递点A(48) -> 快递点B(49)
(73, 39.9623, 116.3181, 1, NOW(), NOW()),
(73, 39.9635, 116.3165, 2, NOW(), NOW()),
(73, 39.9647, 116.3145, 3, NOW(), NOW()),
(73, 39.9658, 116.3126, 4, NOW(), NOW()),

-- 快递点B(49) -> 文印中心(50)
(74, 39.9658, 116.3126, 1, NOW(), NOW()),
(74, 39.9645, 116.3135, 2, NOW(), NOW()),
(74, 39.9630, 116.3153, 3, NOW(), NOW()),
(74, 39.9611, 116.3171, 4, NOW(), NOW()),

-- 文印中心(50) -> 快印店A(51)
(75, 39.9611, 116.3171, 1, NOW(), NOW()),
(75, 39.9625, 116.3155, 2, NOW(), NOW()),
(75, 39.9636, 116.3135, 3, NOW(), NOW()),
(75, 39.9646, 116.3116, 4, NOW(), NOW()),

-- 快印店A(51) -> 快印店B(52)
(76, 39.9646, 116.3116, 1, NOW(), NOW()),
(76, 39.9640, 116.3130, 2, NOW(), NOW()),
(76, 39.9635, 116.3145, 3, NOW(), NOW()),
(76, 39.9629, 116.3161, 4, NOW(), NOW()),

-- 快印店B(52) -> 图书馆(1)
(77, 39.9629, 116.3161, 1, NOW(), NOW()),
(77, 39.9630, 116.3170, 2, NOW(), NOW()),
(77, 39.9631, 116.3178, 3, NOW(), NOW()),
(77, 39.9632, 116.3186, 4, NOW(), NOW());

-- 更新road_connections表中的距离
UPDATE road_connections rc
SET distance = (
    SELECT COALESCE(SUM(
        ST_Distance_Sphere(
            point(p1.longitude, p1.latitude),
            point(p2.longitude, p2.latitude)
        )
    ), 0)
    FROM road_path_points p1
    JOIN road_path_points p2 ON p1.road_id = p2.road_id 
    AND p1.sequence_number = p2.sequence_number - 1
    WHERE p1.road_id = rc.id
); 